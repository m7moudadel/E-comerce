"use strict";(self.webpackChunke_comerce=self.webpackChunke_comerce||[]).push([[848],{848:(_,c,r)=>{r.r(c),r.d(c,{AllordersComponent:()=>e});var i=r(6814),l=r(6726),t=r(4769),u=r(6286),n=r(1120);function h(s,p){if(1&s&&(t.TgZ(0,"div",3)(1,"div",4),t._UZ(2,"img",5),t.TgZ(3,"p",6),t._uU(4),t.qZA()()()),2&s){const a=p.$implicit;t.xp6(2),t.Q6J("src",a.product.imageCover,t.LSH),t.xp6(2),t.Oqu(a.product.title)}}let e=(()=>{class s{constructor(a,o){this._CartService=a,this.ActivatedRoute=o,this.userDataId="",this.result=[]}ngOnInit(){this._CartService.getAllOrder().subscribe({next:o=>{console.log(o.data)}});const a=localStorage.getItem("etoken");if(null!==a){const o=(0,l.Z)(a);this.userData=o,this.userDataId=this.userData.id,this._CartService.getUserOrders(this.userDataId).subscribe({next:d=>{console.log("data",d);const[{cartItems:m}]=d;this.userObj=m}})}}static#t=this.\u0275fac=function(o){return new(o||s)(t.Y36(u.N),t.Y36(n.gz))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-allorders"]],standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[[1,"w-75","mx-auto","shadow","rounded","my-4"],[1,"row"],["class","col-sm-6 col-md-8 p-4",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-8","p-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"w-25","my-2","rounded","shadow",3,"src","alt"],[1,"fw-bold"]],template:function(o,d){1&o&&(t.TgZ(0,"section",0)(1,"div",1),t.YNc(2,h,5,2,"div",2),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("ngForOf",d.userObj))},dependencies:[i.ez,i.sg]})}return s})()},6286:(_,c,r)=>{r.d(c,{N:()=>u});var i=r(5619),l=r(4769),t=r(9862);let u=(()=>{class n{constructor(e){this._HttpClient=e,this.bassedUrl="https://ecommerce.routemisr.com/api/v1/",this.cartNumber=new i.X(0)}addCart(e){return this._HttpClient.post(this.bassedUrl+"cart",{productId:e})}getCart(){return this._HttpClient.get(this.bassedUrl+"cart")}removeCartIrem(e){return this._HttpClient.delete(this.bassedUrl+`cart/${e}`)}changeCartCount(e,s){return this._HttpClient.put(this.bassedUrl+`cart/${e}`,{count:s})}clearCart(){return this._HttpClient.delete(this.bassedUrl+"cart")}checkOut(e,s){return this._HttpClient.post(this.bassedUrl+`orders/checkout-session/${e}?url=http://localhost:4200`,{shippingAddress:s})}getAllOrder(){return this._HttpClient.get(this.bassedUrl+"orders/")}getUserOrders(e){return this._HttpClient.get(this.bassedUrl+`orders/user/${e}`)}static#t=this.\u0275fac=function(s){return new(s||n)(l.LFG(t.eN))};static#e=this.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()}}]);